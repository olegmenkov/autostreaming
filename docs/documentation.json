{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/register_user":{"post":{"summary":"Register User","description":"Функция, которая создает пользователя в базе данных (юзер стори обязательно\nдолжна начинаться с этого)\n# {'user_id': '1234'}\n:param user_id:\n:return:","operationId":"register_user_register_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserId"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/set_user_data":{"post":{"summary":"Set User Data","description":"Функция которая кладет данные о пользователе в базу данных\nТо есть мы передаем айди пользователя, тип поля и само его значение\n# {user_id: '123', data_type: 'ip', data: '172.1.1'}\n# {user_id: '123', data_type: 'port', '1234'}\n:param user_data:\n:return:","operationId":"set_user_data_set_user_data_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_stream":{"post":{"summary":"Start Stream","description":"Функция запуска стрима (сама делает проверки и возвращает ошибку, если\nпользователя нет в базе данных т.е. не было register_user; также ошибка\nбудет в случае, если данных для запуска нет)\n# {\"user_id\": \"123\"}\n:param user_id:\n:return:","operationId":"start_stream_start_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserId"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stop_stream":{"post":{"summary":"Stop Stream","description":"Функция для прекращения стрима (проверки по аналогии со старт_стрим)\n{\"user_id\": \"123\"}\n:param user_id:\n:return:","operationId":"stop_stream_stop_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserId"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/trigger_calendar_start_stream":{"post":{"summary":"Start Stream Calendar","operationId":"start_stream_calendar_trigger_calendar_start_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalendarData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/trigger_calendar_stop_stream":{"post":{"summary":"Stop Stream Calendar","operationId":"stop_stream_calendar_trigger_calendar_stop_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalendarData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ping_redis":{"get":{"summary":"Ping Redis","description":"Endpoint для проверки, работает ли стрим.\n:return:","operationId":"ping_redis_ping_redis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ping":{"get":{"summary":"Ping","description":"Endpoint для проверки, работает ли сервис.\n:return:","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"CalendarData":{"title":"CalendarData","required":["ip","port","password","stream_key"],"type":"object","properties":{"ip":{"title":"Ip","type":"string"},"port":{"title":"Port","type":"string"},"password":{"title":"Password","type":"string"},"stream_key":{"title":"Stream Key","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"UserData":{"title":"UserData","required":["user_id","data_type","data"],"type":"object","properties":{"user_id":{"title":"User Id","type":"string"},"data_type":{"title":"Data Type","enum":["ip","port","password","stream_key"],"type":"string"},"data":{"title":"Data","type":"string"}}},"UserId":{"title":"UserId","required":["user_id"],"type":"object","properties":{"user_id":{"title":"User Id","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}